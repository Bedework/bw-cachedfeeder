<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
NOTE: Set the location of your webcache in two places below.  Search for localhost:8080.
-->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <title>Bedework Feed Builder</title>
    <script type="text/javascript" src="javascript/jquery/jquery-1.3.2.min.js"></script>
    <script type="text/javascript" src="javascript/jquery/jquery-ui-1.7.1.custom.min.js"></script>
    <script type="text/javascript" src="javascript/bedework/builder.js"></script>
    <script type="text/javascript" src="http://localhost:8080/webcache/v1.0/categories/widget-json-cats/catsObj"></script>
    <link type="text/css" href="css/custom-theme/jquery-ui-1.7.1.custom.css" rel="stylesheet" />
    <link type="text/css" href="css/custom-theme/bedeworkJquery.css" rel="stylesheet" />
    <link type="text/css" href="css/bedeworkJqueryThemes.css" rel="stylesheet" />
    <link type="text/css" href="css/builder.css" rel="stylesheet">
    <script type="text/javascript">
      
      $(document).ready(function() {
      
        getCatAndLimitData(); //from server
        //$('#startDate').attr('disabled', 'disabled');
        //$('#endDate').attr('disabled', 'disabled');
        //$('#numDays').attr('disabled', 'disabled');
        $(".trigger").click(function() {
          // if ($('#list').attr('checked') && $('#widget').attr('checked') || $('#feed').attr('checked')) {
            // widget & list or feed
          //  $('#timeframeUnit').show('fast');
          //} else {
          //  $('#timeframeUnit').hide('slow');
          //}
          if ($('#feed').attr('checked')) {
            // feed
            $('#dataFormat').show('fast');
            $('#output').hide('slow');
            // $('#type').hide('slow');
            $('#URL').show('fast');
            $('#codeBox').hide('slow');
          } else {
            // widget
            $('#dataFormat').hide('slow');
            $('#output').show('fast');
            // $('#type').show('fast');
            $('#URL').hide('slow');
            $('#codeBox').show('fast');
          }
          if ($('#checkedCategories').attr('checked')) {
            $('#selectCategories').show('fast');
          } else {
            $('#selectCategories').hide('slow');
          }
          if ($('#someExclusions').attr('checked')) {
            $('#excludeCategories').show('fast');
          } else {
            $('#excludeCategories').hide('slow');
          }
          if ($('#doLimit').attr('checked')) {
            $('#selectLimit').show('fast');
          } else {
            $('#selectLimit').hide('slow');
          }
          if ($('#javascript').attr('checked')) {
            $('#jsWidgetOptions').show('fast');
          } else {
            $('#jsWidgetOptions').hide('slow');
          }
          if ($('#jsDisplayInlineTrue').attr('checked')) {
            $('#jsWidgetOptionsInline').show('fast');
          } else {
            $('#jsWidgetOptionsInline').hide('slow');
          }
          if ($('#jsShowTitleTrue').attr('checked')) {
            $('#jsSetTitle').show('fast');
          } else {
            $('#jsSetTitle').hide('slow');
          }
          
        });
      
        updateUrlDisplay();
      
      });
    </script>
  </head>
  <body>
    <form>
      <h1>Bedework Feed URL and Widget Builder</h1>
      <p class="prompt">Raw event feed or an embeddable widget?</p>
      <ul class="noBullet">
        <li class="trigger">
          <input type="radio" onclick='updateUrlDisplay()' checked="checked" id="feed" name="feedOrWidget" value="feed" />Feed
        </li>
        <li class="trigger">
          <input type="radio" onclick='updateUrlDisplay()' id="widget" name="feedOrWidget" value="widget" />Widget
        </li>
      </ul>
      <div id="dataFormat">
        <p class="prompt">Data format?</p>
        <ul class="noBullet">
          <li>
            <input type="radio" id="rss" onclick='updateUrlDisplay()' name="dataType" value="list-rss" checked="checked"/>RSS
          </li>
          <li>
            <input type="radio" id="json" onclick='updateUrlDisplay()' name="dataType" value="list-json" />JSON
          </li>
          <li>
            <input type="radio" id="ics" onclick='updateUrlDisplay()' name="dataType" value="ics" />ICS (iCalendar)
          </li>
          <li>
            <input type="radio" id="xml" onclick='updateUrlDisplay()' name="dataType" value="list-xml" />XML
          </li>
          <li>
            <input type="radio" id="html" onclick='updateUrlDisplay()' name="dataType" value="list-html" />HTML
          </li>
        </ul>
      </div><!-- DataFormat -->
      <div id="output" class="invisible">
        <p class="prompt">Output?</p>
        <ul class="noBullet">
          <li class="trigger">
            <input type="radio" id="iframe" name="output" onclick="updateUrlDisplay()" value="iframe" />iframe (html)
          </li>
          <li class="trigger">
            <input type="radio" id="javascript" name="output" onclick="updateUrlDisplay()" value="javascript"/>Javascript
          </li>
        </ul>
      </div><!--  not supporting grid calendars.... yet
      <div id="type" class="invisible">
      <p class="prompt">
      Type?
      </p>
      <ul class="noBullet">
      <li class="trigger">
      <input type="radio" id="list" name="type" onclick="updateUrlDisplay()" value="List" />List
      </li>
      <li class="trigger">
      <input type="radio" id="week" name="type" onclick="updateUrlDisplay()" value="Week" checked="checked" />Current Week
      </li>
      <li class="trigger">
      <input type="radio" id="month" name="type" onclick="updateUrlDisplay()" value="Month" />Current Month
      </li>
      </ul>
      </div>
      -->
      <div id="timeframeUnit">
        <p class="prompt">Specify the number of days (from the current date) or provide a start date and an end date.</p>
        <div id="timeframeWidgets">
          <table>
            <tr>
              <td>
                <input type="radio" id="numberOfDays" name="timeframe" onclick="updateUrlDisplay()" value="days" checked="checked" />
              </td>
              <td>
                <div class="daysNumber">
                  <div id="slider" style="width:300px;"></div>
                  <label for="numDays">Number of Days:</label>
                  <input class="slider" onclick='updateUrlDisplay()' type="text" size="3" id="numDays" />
                </div><!-- daysNumber -->
              </td>
            </tr>
            <tr>
              <td>
                <input type="radio" id="startEndDates" name="timeframe" onclick="updateUrlDisplay()" value="dates" />
              </td>
              <td>
                <div class="dateRange">
                  Start Date: <input size="8" class="datepicker" id="startDate" onclick="updateUrlDisplay()" type="text"></input>
                  End Date: <input size="8"class="datepicker" id="endDate" onclick="updateUrlDisplay()" type="text"></input>
                </div>
              </td>
            </tr>
          </table>
        </div><!-- timeframeWidgets -->
      </div><!-- timeframeUnit -->

<!--
	#######  JSON WIDGET OPTIONS SECTION  ##########  
-->

      <div id="jsWidgetOptions" class="invisible">
	
	    <p class="prompt2">Show a title above event list (default: true)</p>

	    <ul class="noBullet2">
          <li class="trigger">
            <input type="radio" id="jsShowTitleTrue" name="jsShowTitle" onclick='updateUrlDisplay()' value="true" checked="checked" />True
          </li>
        <li class="trigger">
          <input type="radio" id="jsShowTitleFalse" name="jsShowTitle" onclick='updateUrlDisplay()' value="false"  />False
        </li>
	  </ul>
	
	  <div id="jsSetTitle" classe="invisible">
	
	    <p class="prompt3">Title above list (default: Upcoming Events)</p>
	  
	    <ul class="noBullet3">
          <li>
	        <input size="20" id="jsSetTitleName" onclick="updateUrlDisplay()" type="text" value="Upcoming Events"></input>
	      </li>
	    </ul>
	  </div>
	
	  <p class="prompt2">Display event details inline? (default: false) </p>
	  
	  <ul class="noBullet2">
        <li class="trigger">
          <input type="radio" id="jsDisplayInlineTrue" name="jsDisplayInline" onclick='updateUrlDisplay()' value="true" />True
        </li>
        <li class="trigger">
          <input type="radio" id="jsDisplayInlineFalse" name="jsDisplayInline" onclick='updateUrlDisplay()' value="false" checked="checked" />False
        </li>
	  </ul>
	
	</div>
	  
	<div id="jsWidgetOptionsInline" class="invisible">
	
      <p class="prompt3">Display location in listing? (default: false)</p>
	  
	  <ul class="noBullet3">
        <li>
          <input type="radio" id="jsDisplayLocationTrue" name="jsDisplayLocation" onclick='updateUrlDisplay()' value="true" />True
        </li>
        <li>
          <input type="radio" id="jsDisplayLocationFalse" name="jsDisplayLocation" onclick='updateUrlDisplay()' value="false" checked="checked" />False
        </li>
	  </ul>
	
	  <p class="prompt3">List events 'by date' or 'by event title'? (default 'by date')</p>
	   
	  <ul class="noBullet3">
        <li>
          <input type="radio" id="jsDisplayByDate" name="jsDisplayDateOrTitle" onclick='updateUrlDisplay()' value="'byDate'" checked="checked"/>By date
      </li>
      <li>
          <input type="radio" id="jsDisplayByTitle" name="jsDisplayDateOrTitle" onclick='updateUrlDisplay()' value="'byTitle'" />By title
        </li>
	  </ul>

	  <p class="prompt3">Display contact information in event listing (default: true)</p>
	  
	  <ul class="noBullet3">
        <li>
          <input type="radio" id="jsDisplayContactTrue" name="jsDisplayContact" onclick='updateUrlDisplay()' value="true" checked="checked" />True 
      </li>
      <li>
          <input type="radio" id="jsDisplayContactFalse" name="jsDisplayContact" onclick='updateUrlDisplay()' value="false" />False
        </li>
	  </ul>
	
	  <p class="prompt3">Display cost information in event listing (default: true)</p>
	  
	  <ul class="noBullet3">
        <li>
          <input type="radio" id="jsDisplayCostTrue" name="jsDisplayCost" onclick='updateUrlDisplay()' value="true" checked="checked" />True 
      </li>
      <li>
          <input type="radio" id="jsDisplayCostFalse" name="jsDisplayCost" onclick='updateUrlDisplay()' value="false" />False
        </li>
	  </ul>
	
	  <p class="prompt3">Display tags in event listing (default: true)</p>
	  
	  <ul class="noBullet3">
        <li>
          <input type="radio" id="jsDisplayTagsTrue" name="jsDisplayTags" onclick='updateUrlDisplay()' value="true" checked="checked" />True 
      </li>
      <li>
          <input type="radio" id="jsDisplayTagsFalse" name="jsDisplayTags" onclick='updateUrlDisplay()' value="false" />False
        </li>
	  </ul>
	
	  <p class="prompt3">Display timezone in event listing (default: true)</p>

	  <ul class="noBullet3">
        <li>
          <input type="radio" id="jsDisplayTimezoneTrue" name="jsDisplayTimezone" onclick='updateUrlDisplay()' value="true" checked="checked" />True 
      </li>
      <li>
          <input type="radio" id="jsDisplayTimezoneFalse" name="jsDisplayTimezone" onclick='updateUrlDisplay()' value="false" />False
        </li>
	  </ul>
	</div>  
<!--
	#######  END JSON WIDGET OPTIONS SECTION  ##########        
-->

<!--
    #######  FILTERING SECTION  ##########        
-->
      <p class="prompt">Include everything or only those events from selected categories (Lectures, Arts Events, etc.)?</p>
      <ul class="noBullet">
        <li class="trigger">
          <input type="radio" id="allCategories" name="allOrSomeCats" onclick='uncheckAll("includeCatChecks")' value="all" checked="checked"/>Include everything
        </li>
        <li class="trigger">
          <input type="radio" id="checkedCategories" name="allOrSomeCats" onclick='updateUrlDisplay()' value="selectedCats" />Include selected categories only
        </li>
      </ul>

      <div id="selectCategories" class="invisible" >
        <ul class="noBullet">
          <li>
            <table id="categoriesTable">
              <tbody id="categoriesTableBody"></tbody>
            </table>
          </li>
        </ul>
      </div>

      <p class="prompt">Exclude nothing from what you've selected above or exclude some categories?</p>

      <ul class="noBullet">
        <li class="trigger">
          <input type="radio" id="noExclusions" name="noOrSomeExclusions" onclick='uncheckAll("excludeCatChecks")' value="all" checked="checked"/>Nothing to exclude
        </li>
        <li class="trigger">
          <input type="radio" id="someExclusions" name="noOrSomeExclusions" onclick='updateUrlDisplay()' value="selectedCats" />Exclude selected categories
        </li>
      </ul>

      <div id="excludeCategories" class="invisible">
        <ul class="noBullet">
          <li>
            <table id="excludeCatTable">
              <tbody id="excludeCatTableBody"></tbody>
            </table>
          </li>
        </ul>
      </div>


      <p class="prompt">Limit to a specific organization?</p>

      <ul class="noBullet">
        <li class="trigger">
          <input type="radio" id="noLimit" name="limitsOrNot" onclick='uncheckAll("limitCatCheck")' value="all" checked="checked"/>No limit
        </li>
        <li class="trigger">
          <input type="radio" id="doLimit" name="limitsOrNot" value="oneOrg" />Limit to an organization
        </li>
      </ul>

      <div id="selectLimit" class="invisible">
	    <ul class="noBullet">
          <li>
            <table>
              <tbody id="limitTable" />
            </tbody>
          </table>
        </li>
      </div>
<!--
	    #######  END FILTERING SECTION  ##########        
-->
      <div id="URL">
        <p class="output">
          Your URL:
          <a href="" id="UrlBox" target="_top"></a>
        </p>
      </div>

      <div id="codeBox" class="invisible">
        <p class="output">Widget Code:</p>
        <div id="codeBoxBox">
          <textarea name="functions" id="functions" rows="20" cols="78"></textarea>
        </div>
      </div>
    </form>
  </body>
</html>
